# 广告配置说明

## 功能说明

已添加广告开关配置，开发阶段可以关闭广告，方便调试。

## 配置文件位置

`common/config/ad-config.js`

## 快速配置

### 开发阶段（关闭广告）

打开 `common/config/ad-config.js`，设置：

```javascript
export const ENABLE_AD = false;  // 关闭广告
```

**效果：**
- ✅ 保存功能直接跳过激励视频广告
- ✅ 不显示插屏广告
- ✅ 不显示Banner广告
- ✅ 所有功能正常使用，无需看广告

### 生产环境（开启广告）

打开 `common/config/ad-config.js`，设置：

```javascript
export const ENABLE_AD = true;  // 开启广告
```

**效果：**
- ✅ 保存前必须看完激励视频广告
- ✅ 第1、3、5次保存后显示插屏广告
- ✅ 底部显示Banner广告

## 配置项说明

### ENABLE_AD
- **类型**：`boolean`
- **默认值**：`false`（开发模式）
- **说明**：控制是否开启所有广告功能

### AD_CONFIG
广告位ID配置对象：
- `REWARDED_VIDEO_AD_UNIT_ID`: 激励视频广告位ID
- `INTERSTITIAL_AD_UNIT_ID`: 插屏广告位ID
- `BANNER_AD_UNIT_ID`: Banner广告位ID

### AD_TIPS
广告提示信息配置：
- `REWARDED_VIDEO_NOT_COMPLETED`: 激励视频未看完的提示
- `REWARDED_VIDEO_LOAD_FAILED`: 激励视频加载失败的提示

## 使用场景

### 场景1：本地开发调试
```javascript
export const ENABLE_AD = false;  // 关闭广告，快速调试
```

### 场景2：测试环境
```javascript
export const ENABLE_AD = false;  // 关闭广告，方便测试功能
```

### 场景3：生产环境
```javascript
export const ENABLE_AD = true;   // 开启广告，实现收益
```

## 配置广告位ID

### 步骤1：申请广告位

1. 登录微信公众平台：https://mp.weixin.qq.com
2. 进入：`流量主` → `广告管理` → `广告位管理`
3. 创建广告位：
   - 激励视频广告位
   - 插屏广告位
   - Banner广告位
4. 获取广告位ID（格式：`adunit-xxxxx`）

### 步骤2：配置广告位ID

打开 `common/config/ad-config.js`，修改：

```javascript
export const AD_CONFIG = {
    REWARDED_VIDEO_AD_UNIT_ID: 'adunit-你的激励视频ID',
    INTERSTITIAL_AD_UNIT_ID: 'adunit-你的插屏广告ID',
    BANNER_AD_UNIT_ID: 'adunit-你的Banner广告ID'
};
```

## 代码影响范围

配置会影响以下功能：

1. **激励视频广告**（保存功能）
   - 文件：`common/utils/ad.js` → `showRewardedVideo()`
   - 使用位置：`pages/result/result.vue` → `saveToAlbum()`

2. **插屏广告**（保存后）
   - 文件：`common/utils/ad.js` → `showInterstitialAd()`
   - 使用位置：`pages/result/result.vue` → `saveToAlbum()`

3. **Banner广告**（底部常驻）
   - 文件：`common/components/ad-video-banner.vue`
   - 使用位置：多个页面底部

## 验证配置

### 开发模式验证（ENABLE_AD = false）

1. 打开结果页面
2. 点击"保存到相册"
3. ✅ 应该直接保存，不显示广告
4. ✅ 控制台输出："广告功能已关闭（开发模式）"

### 生产模式验证（ENABLE_AD = true）

1. 打开结果页面
2. 点击"保存到相册"
3. ✅ 应该先显示激励视频广告
4. ✅ 看完广告后才能保存
5. ✅ 底部显示Banner广告

## 注意事项

1. ⚠️ **开发阶段**：建议始终设置为 `false`，提高开发效率
2. ⚠️ **生产环境**：必须设置为 `true` 并配置正确的广告位ID
3. ⚠️ **广告位ID**：必须从微信公众平台申请，不能使用占位符
4. ⚠️ **测试环境**：如果广告位ID未配置，广告会加载失败但不影响功能

## 快速切换

### 开发 → 生产
```javascript
// 1. 修改 ENABLE_AD
export const ENABLE_AD = true;

// 2. 配置广告位ID
export const AD_CONFIG = {
    REWARDED_VIDEO_AD_UNIT_ID: 'adunit-实际ID',
    INTERSTITIAL_AD_UNIT_ID: 'adunit-实际ID',
    BANNER_AD_UNIT_ID: 'adunit-实际ID'
};

// 3. 重新编译运行
```

### 生产 → 开发
```javascript
// 只需修改一行
export const ENABLE_AD = false;
```

## 常见问题

### Q: 开发阶段如何快速测试保存功能？
A: 设置 `ENABLE_AD = false`，保存功能会直接跳过广告。

### Q: 广告位ID在哪里获取？
A: 微信公众平台 → 流量主 → 广告管理 → 广告位管理。

### Q: 可以只关闭某种广告吗？
A: 当前配置是全局开关，如需单独控制，可以修改 `ad.js` 中的具体函数。

### Q: 关闭广告后功能还正常吗？
A: 完全正常，只是跳过了广告展示，所有业务功能不受影响。

