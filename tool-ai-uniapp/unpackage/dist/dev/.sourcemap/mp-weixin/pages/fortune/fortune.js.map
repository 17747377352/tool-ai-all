{"version":3,"file":"fortune.js","sources":["pages/fortune/fortune.vue","pages/fortune/fortune.vue?type=page"],"sourcesContent":["<template>\n    <view class=\"container\">\n        <view class=\"form-item\">\n            <text class=\"label\">请输入姓名</text>\n            <input\n                v-model=\"name\"\n                class=\"input\"\n                placeholder=\"例如：张三\"\n                maxlength=\"20\"\n            />\n        </view>\n\n        <view class=\"form-item\">\n            <text class=\"label\">选择出生日期</text>\n            <picker\n                mode=\"date\"\n                :value=\"birthDate\"\n                @change=\"onDateChange\"\n            >\n                <view class=\"picker\">\n                    <text :class=\"{ placeholder: !birthDate }\">\n                        {{ birthDate || '请选择出生日期' }}\n                    </text>\n                </view>\n            </picker>\n        </view>\n\n        <button class=\"generate-btn\" :disabled=\"!name || !birthDate || generating\" @click=\"generate\">\n            {{ generating ? '生成中...' : '立即生成' }}\n        </button>\n\n        <!-- Banner广告 -->\n        <ad-video-banner />\n    </view>\n</template>\n\n<script>\nimport api from '@/common/utils/api.js';\nimport AdVideoBanner from '@/common/components/ad-video-banner.vue';\n\nexport default {\n    components: {\n        AdVideoBanner\n    },\n    data() {\n        return {\n            name: '',\n            birthDate: '',\n            generating: false\n        };\n    },\n    methods: {\n        onDateChange(e) {\n            this.birthDate = e.detail.value;\n        },\n        async generate() {\n            if (!this.name.trim()) {\n                uni.showToast({\n                    title: '请输入姓名',\n                    icon: 'none'\n                });\n                return;\n            }\n            if (!this.birthDate) {\n                uni.showToast({\n                    title: '请选择出生日期',\n                    icon: 'none'\n                });\n                return;\n            }\n\n            this.generating = true;\n            try {\n                const res = await api.generateFortune({\n                    name: this.name,\n                    birthDate: this.birthDate\n                });\n                if (res.code === 200) {\n                    uni.navigateTo({\n                        url: `/pages/result/result?type=4&resultUrl=${encodeURIComponent(res.data.resultUrl)}`\n                    });\n                }\n            } catch (e) {\n                console.error('生成失败', e);\n            } finally {\n                this.generating = false;\n            }\n        }\n    }\n};\n</script>\n\n<style scoped>\n.container {\n    min-height: 100vh;\n    background: #f5f5f5;\n    padding: 30rpx;\n}\n\n.form-item {\n    background: #fff;\n    border-radius: 20rpx;\n    padding: 30rpx;\n    margin-bottom: 30rpx;\n}\n\n.label {\n    display: block;\n    font-size: 28rpx;\n    color: #333;\n    margin-bottom: 20rpx;\n    font-weight: 500;\n}\n\n.input {\n    width: 100%;\n    height: 80rpx;\n    background: #f5f5f5;\n    border-radius: 10rpx;\n    padding: 0 20rpx;\n    font-size: 28rpx;\n    box-sizing: border-box;\n}\n\n.picker {\n    width: 100%;\n    height: 80rpx;\n    background: #f5f5f5;\n    border-radius: 10rpx;\n    padding: 0 20rpx;\n    display: flex;\n    align-items: center;\n    box-sizing: border-box;\n}\n\n.picker text {\n    font-size: 28rpx;\n    color: #333;\n}\n\n.picker text.placeholder {\n    color: #999;\n}\n\n.generate-btn {\n    width: 100%;\n    height: 88rpx;\n    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n    color: #fff;\n    border-radius: 44rpx;\n    font-size: 32rpx;\n    border: none;\n    margin-top: 40rpx;\n}\n\n.generate-btn[disabled] {\n    background: #ccc;\n}\n</style>\n\n\n\n\n","import MiniProgramPage from '/Users/gongxuesong/Work/individual/工具/tool-ai-all/tool-ai-uniapp/pages/fortune/fortune.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni","api"],"mappings":";;;AAsCA,MAAO,gBAAe,MAAW;AAEjC,MAAK,YAAU;AAAA,EACX,YAAY;AAAA,IACR;AAAA,EACH;AAAA,EACD,OAAO;AACH,WAAO;AAAA,MACH,MAAM;AAAA,MACN,WAAW;AAAA,MACX,YAAY;AAAA;EAEnB;AAAA,EACD,SAAS;AAAA,IACL,aAAa,GAAG;AACZ,WAAK,YAAY,EAAE,OAAO;AAAA,IAC7B;AAAA,IACD,MAAM,WAAW;AACb,UAAI,CAAC,KAAK,KAAK,QAAQ;AACnBA,sBAAAA,MAAI,UAAU;AAAA,UACV,OAAO;AAAA,UACP,MAAM;AAAA,QACV,CAAC;AACD;AAAA,MACJ;AACA,UAAI,CAAC,KAAK,WAAW;AACjBA,sBAAAA,MAAI,UAAU;AAAA,UACV,OAAO;AAAA,UACP,MAAM;AAAA,QACV,CAAC;AACD;AAAA,MACJ;AAEA,WAAK,aAAa;AAClB,UAAI;AACA,cAAM,MAAM,MAAMC,iBAAG,IAAC,gBAAgB;AAAA,UAClC,MAAM,KAAK;AAAA,UACX,WAAW,KAAK;AAAA,QACpB,CAAC;AACD,YAAI,IAAI,SAAS,KAAK;AAClBD,wBAAAA,MAAI,WAAW;AAAA,YACX,KAAK,yCAAyC,mBAAmB,IAAI,KAAK,SAAS,CAAC;AAAA,UACxF,CAAC;AAAA,QACL;AAAA,MACJ,SAAS,GAAG;AACRA,sBAAA,MAAA,MAAA,SAAA,mCAAc,QAAQ,CAAC;AAAA,MAC3B,UAAU;AACN,aAAK,aAAa;AAAA,MACtB;AAAA,IACJ;AAAA,EACJ;AACJ;;;;;;;;;;;;;;;;;;;ACxFA,GAAG,WAAW,eAAe;"}