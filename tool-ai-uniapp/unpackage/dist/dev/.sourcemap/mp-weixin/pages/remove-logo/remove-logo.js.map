{"version":3,"file":"remove-logo.js","sources":["pages/remove-logo/remove-logo.vue","pages/remove-logo/remove-logo.vue?type=page"],"sourcesContent":["<template>\n    <view class=\"container\">\n        <!-- 输入分享链接 -->\n        <view class=\"form-item\">\n            <text class=\"label\">粘贴分享链接</text>\n            <textarea\n                v-model=\"shareUrl\"\n                class=\"textarea\"\n                placeholder=\"粘贴抖音或小红书的分享链接，例如：https://v.douyin.com/xxx/\"\n                maxlength=\"500\"\n                @input=\"onShareUrlInput\"\n            ></textarea>\n            <view v-if=\"shareUrl\" class=\"link-tips\">\n                <text class=\"link-tip-text\">{{ getPlatformName() }}</text>\n            </view>\n        </view>\n\n        <view class=\"tips\">\n            <text class=\"tips-text\">支持抖音、小红书分享链接，自动去除水印</text>\n        </view>\n\n        <button \n            class=\"generate-btn\" \n            :disabled=\"!shareUrl || generating\" \n            @click=\"generate\"\n        >\n            {{ generating ? '处理中...' : '立即去水印' }}\n        </button>\n\n        <!-- Banner广告 -->\n        <ad-video-banner />\n    </view>\n</template>\n\n<script>\nimport api from '@/common/utils/api.js';\nimport AdVideoBanner from '@/common/components/ad-video-banner.vue';\n\nexport default {\n    components: {\n        AdVideoBanner\n    },\n    data() {\n        return {\n            shareUrl: '', // 分享链接\n            generating: false\n        };\n    },\n    methods: {\n        /**\n         * 分享链接输入处理\n         */\n        onShareUrlInput(e) {\n            this.shareUrl = e.detail.value;\n        },\n        \n        /**\n         * 获取平台名称\n         */\n        getPlatformName() {\n            if (!this.shareUrl) {\n                return '';\n            }\n            if (this.shareUrl.includes('douyin.com') || this.shareUrl.includes('iesdouyin.com')) {\n                return '✓ 已识别：抖音';\n            } else if (this.shareUrl.includes('xiaohongshu.com')) {\n                return '✓ 已识别：小红书';\n            }\n            return '';\n        },\n        \n        /**\n         * 去水印\n         */\n        async generate() {\n            await this.generateFromShareUrl();\n        },\n        \n        /**\n         * 从分享链接去水印\n         */\n        async generateFromShareUrl() {\n            if (!this.shareUrl.trim()) {\n                uni.showToast({\n                    title: '请输入分享链接',\n                    icon: 'none'\n                });\n                return;\n            }\n\n            // 简单验证链接格式\n            if (!this.shareUrl.includes('douyin.com') && \n                !this.shareUrl.includes('iesdouyin.com') && \n                !this.shareUrl.includes('xiaohongshu.com')) {\n                uni.showToast({\n                    title: '仅支持抖音和小红书链接',\n                    icon: 'none'\n                });\n                return;\n            }\n\n            this.generating = true;\n            try {\n                const res = await api.removeLogo({\n                    shareUrl: this.shareUrl.trim()\n                });\n                if (res.code === 200) {\n                    uni.navigateTo({\n                        url: `/pages/result/result?type=1&resultUrl=${encodeURIComponent(res.data.resultUrl)}`\n                    });\n                } else {\n                    uni.showToast({\n                        title: res.message || '去水印失败',\n                        icon: 'none'\n                    });\n                }\n            } catch (e) {\n                console.error('去水印失败', e);\n                uni.showToast({\n                    title: e.message || '去水印失败，请重试',\n                    icon: 'none'\n                });\n            } finally {\n                this.generating = false;\n            }\n        }\n    }\n};\n</script>\n\n<style scoped>\n.container {\n    min-height: 100vh;\n    background: #f5f5f5;\n    padding: 30rpx;\n}\n\n.tips {\n    margin-bottom: 40rpx;\n}\n\n.tips-text {\n    font-size: 24rpx;\n    color: #999;\n}\n\n.generate-btn {\n    width: 100%;\n    height: 88rpx;\n    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n    color: #fff;\n    border-radius: 44rpx;\n    font-size: 32rpx;\n    border: none;\n}\n\n.generate-btn[disabled] {\n    background: #ccc;\n}\n\n.form-item {\n    background: #fff;\n    border-radius: 20rpx;\n    padding: 30rpx;\n    margin-bottom: 30rpx;\n}\n\n.label {\n    display: block;\n    font-size: 28rpx;\n    color: #333;\n    margin-bottom: 20rpx;\n    font-weight: 500;\n}\n\n.textarea {\n    width: 100%;\n    min-height: 150rpx;\n    background: #f5f5f5;\n    border-radius: 10rpx;\n    padding: 20rpx;\n    font-size: 28rpx;\n    box-sizing: border-box;\n}\n\n.link-tips {\n    margin-top: 15rpx;\n}\n\n.link-tip-text {\n    font-size: 24rpx;\n    color: #667eea;\n}\n</style>\n\n","import MiniProgramPage from '/Users/gongxuesong/Work/individual/工具/tool-ai-all/tool-ai-uniapp/pages/remove-logo/remove-logo.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni","api"],"mappings":";;;AAoCA,MAAO,gBAAe,MAAW;AAEjC,MAAK,YAAU;AAAA,EACX,YAAY;AAAA,IACR;AAAA,EACH;AAAA,EACD,OAAO;AACH,WAAO;AAAA,MACH,UAAU;AAAA;AAAA,MACV,YAAY;AAAA;EAEnB;AAAA,EACD,SAAS;AAAA;AAAA;AAAA;AAAA,IAIL,gBAAgB,GAAG;AACf,WAAK,WAAW,EAAE,OAAO;AAAA,IAC5B;AAAA;AAAA;AAAA;AAAA,IAKD,kBAAkB;AACd,UAAI,CAAC,KAAK,UAAU;AAChB,eAAO;AAAA,MACX;AACA,UAAI,KAAK,SAAS,SAAS,YAAY,KAAK,KAAK,SAAS,SAAS,eAAe,GAAG;AACjF,eAAO;AAAA,MACT,WAAS,KAAK,SAAS,SAAS,iBAAiB,GAAG;AAClD,eAAO;AAAA,MACX;AACA,aAAO;AAAA,IACV;AAAA;AAAA;AAAA;AAAA,IAKD,MAAM,WAAW;AACb,YAAM,KAAK;IACd;AAAA;AAAA;AAAA;AAAA,IAKD,MAAM,uBAAuB;AACzB,UAAI,CAAC,KAAK,SAAS,QAAQ;AACvBA,sBAAAA,MAAI,UAAU;AAAA,UACV,OAAO;AAAA,UACP,MAAM;AAAA,QACV,CAAC;AACD;AAAA,MACJ;AAGA,UAAI,CAAC,KAAK,SAAS,SAAS,YAAY,KACpC,CAAC,KAAK,SAAS,SAAS,eAAe,KACvC,CAAC,KAAK,SAAS,SAAS,iBAAiB,GAAG;AAC5CA,sBAAAA,MAAI,UAAU;AAAA,UACV,OAAO;AAAA,UACP,MAAM;AAAA,QACV,CAAC;AACD;AAAA,MACJ;AAEA,WAAK,aAAa;AAClB,UAAI;AACA,cAAM,MAAM,MAAMC,iBAAG,IAAC,WAAW;AAAA,UAC7B,UAAU,KAAK,SAAS,KAAK;AAAA,QACjC,CAAC;AACD,YAAI,IAAI,SAAS,KAAK;AAClBD,wBAAAA,MAAI,WAAW;AAAA,YACX,KAAK,yCAAyC,mBAAmB,IAAI,KAAK,SAAS,CAAC;AAAA,UACxF,CAAC;AAAA,eACE;AACHA,wBAAAA,MAAI,UAAU;AAAA,YACV,OAAO,IAAI,WAAW;AAAA,YACtB,MAAM;AAAA,UACV,CAAC;AAAA,QACL;AAAA,MACJ,SAAS,GAAG;AACRA,sBAAc,MAAA,MAAA,SAAA,4CAAA,SAAS,CAAC;AACxBA,sBAAAA,MAAI,UAAU;AAAA,UACV,OAAO,EAAE,WAAW;AAAA,UACpB,MAAM;AAAA,QACV,CAAC;AAAA,MACL,UAAU;AACN,aAAK,aAAa;AAAA,MACtB;AAAA,IACJ;AAAA,EACJ;AACJ;;;;;;;;;;;;;;;;;;;AC9HA,GAAG,WAAW,eAAe;"}