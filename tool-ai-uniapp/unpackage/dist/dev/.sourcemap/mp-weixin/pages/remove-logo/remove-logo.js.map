{"version":3,"file":"remove-logo.js","sources":["pages/remove-logo/remove-logo.vue","pages/remove-logo/remove-logo.vue?type=page"],"sourcesContent":["<template>\n    <view class=\"container\">\n        <!-- ËæìÂÖ•ÂàÜ‰∫´ÈìæÊé• -->\n        <view class=\"form-item\">\n            <text class=\"label\">Á≤òË¥¥ÂàÜ‰∫´ÈìæÊé•</text>\n            <textarea\n                v-model=\"shareUrl\"\n                class=\"textarea\"\n                placeholder=\"Á≤òË¥¥ÊäñÈü≥ÊàñÂ∞èÁ∫¢‰π¶ÁöÑÂàÜ‰∫´ÈìæÊé•Ôºå‰æãÂ¶ÇÔºöhttps://v.douyin.com/xxx/\"\n                maxlength=\"500\"\n                @input=\"onShareUrlInput\"\n            ></textarea>\n            <view v-if=\"shareUrl\" class=\"link-tips\">\n                <text class=\"link-tip-text\">{{ getPlatformName() }}</text>\n            </view>\n        </view>\n\n        <!-- ÊàñÈÄâÊã©ËßÜÈ¢ë -->\n        <view class=\"divider\">\n            <text class=\"divider-text\">Êàñ</text>\n        </view>\n\n        <view class=\"upload-area\" @click=\"chooseVideo\">\n            <view v-if=\"!videoPath\" class=\"upload-icon-placeholder\">üìπ</view>\n            <video v-else :src=\"videoPath\" class=\"preview-video\" controls></video>\n            <text v-if=\"!videoPath\" class=\"upload-text\">ÁÇπÂáªÈÄâÊã©Êú¨Âú∞ËßÜÈ¢ë</text>\n        </view>\n\n        <view class=\"tips\">\n            <text class=\"tips-text\">ÊîØÊåÅÊäñÈü≥„ÄÅÂ∞èÁ∫¢‰π¶ÂàÜ‰∫´ÈìæÊé•ÔºåËá™Âä®ÂéªÈô§Ê∞¥Âç∞</text>\n        </view>\n\n        <button \n            class=\"generate-btn\" \n            :disabled=\"(!shareUrl && !videoPath) || generating\" \n            @click=\"generate\"\n        >\n            {{ generating ? 'Â§ÑÁêÜ‰∏≠...' : 'Á´ãÂç≥ÂéªÊ∞¥Âç∞' }}\n        </button>\n\n        <!-- BannerÂπøÂëä -->\n        <ad-video-banner />\n    </view>\n</template>\n\n<script>\nimport api from '@/common/utils/api.js';\nimport AdVideoBanner from '@/common/components/ad-video-banner.vue';\n\nexport default {\n    components: {\n        AdVideoBanner\n    },\n    data() {\n        return {\n            shareUrl: '', // ÂàÜ‰∫´ÈìæÊé•\n            videoPath: '', // Êú¨Âú∞ËßÜÈ¢ëË∑ØÂæÑ\n            generating: false\n        };\n    },\n    methods: {\n        /**\n         * ÂàÜ‰∫´ÈìæÊé•ËæìÂÖ•Â§ÑÁêÜ\n         */\n        onShareUrlInput(e) {\n            this.shareUrl = e.detail.value;\n            // Â¶ÇÊûúËæìÂÖ•‰∫ÜÂàÜ‰∫´ÈìæÊé•ÔºåÊ∏ÖÁ©∫Êú¨Âú∞ËßÜÈ¢ëÈÄâÊã©\n            if (this.shareUrl) {\n                this.videoPath = '';\n            }\n        },\n        \n        /**\n         * Ëé∑ÂèñÂπ≥Âè∞ÂêçÁß∞\n         */\n        getPlatformName() {\n            if (!this.shareUrl) {\n                return '';\n            }\n            if (this.shareUrl.includes('douyin.com') || this.shareUrl.includes('iesdouyin.com')) {\n                return '‚úì Â∑≤ËØÜÂà´ÔºöÊäñÈü≥';\n            } else if (this.shareUrl.includes('xiaohongshu.com')) {\n                return '‚úì Â∑≤ËØÜÂà´ÔºöÂ∞èÁ∫¢‰π¶';\n            }\n            return '';\n        },\n        \n        /**\n         * ÈÄâÊã©Êú¨Âú∞ËßÜÈ¢ë\n         */\n        chooseVideo() {\n            uni.chooseVideo({\n                count: 1,\n                sizeType: ['compressed'],\n                sourceType: ['album', 'camera'],\n                maxDuration: 60,\n                camera: 'back',\n                success: (res) => {\n                    this.videoPath = res.tempFilePath;\n                    // Â¶ÇÊûúÈÄâÊã©‰∫ÜÊú¨Âú∞ËßÜÈ¢ëÔºåÊ∏ÖÁ©∫ÂàÜ‰∫´ÈìæÊé•\n                    this.shareUrl = '';\n                },\n                fail: (err) => {\n                    console.error('ÈÄâÊã©ËßÜÈ¢ëÂ§±Ë¥•', err);\n                    uni.showToast({\n                        title: 'ÈÄâÊã©ËßÜÈ¢ëÂ§±Ë¥•',\n                        icon: 'none'\n                    });\n                }\n            });\n        },\n        \n        /**\n         * ÂéªÊ∞¥Âç∞\n         */\n        async generate() {\n            // ‰ºòÂÖà‰ΩøÁî®ÂàÜ‰∫´ÈìæÊé•\n            if (this.shareUrl) {\n                await this.generateFromShareUrl();\n            } else if (this.videoPath) {\n                // Êú¨Âú∞ËßÜÈ¢ëÊöÇ‰∏çÊîØÊåÅÔºåÊèêÁ§∫Áî®Êà∑‰ΩøÁî®ÂàÜ‰∫´ÈìæÊé•\n                uni.showToast({\n                    title: 'ËØ∑‰ΩøÁî®ÂàÜ‰∫´ÈìæÊé•ÂäüËÉΩ',\n                    icon: 'none'\n                });\n            } else {\n                uni.showToast({\n                    title: 'ËØ∑Á≤òË¥¥ÂàÜ‰∫´ÈìæÊé•ÊàñÈÄâÊã©ËßÜÈ¢ë',\n                    icon: 'none'\n                });\n            }\n        },\n        \n        /**\n         * ‰ªéÂàÜ‰∫´ÈìæÊé•ÂéªÊ∞¥Âç∞\n         */\n        async generateFromShareUrl() {\n            if (!this.shareUrl.trim()) {\n                uni.showToast({\n                    title: 'ËØ∑ËæìÂÖ•ÂàÜ‰∫´ÈìæÊé•',\n                    icon: 'none'\n                });\n                return;\n            }\n\n            // ÁÆÄÂçïÈ™åËØÅÈìæÊé•Ê†ºÂºè\n            if (!this.shareUrl.includes('douyin.com') && \n                !this.shareUrl.includes('iesdouyin.com') && \n                !this.shareUrl.includes('xiaohongshu.com')) {\n                uni.showToast({\n                    title: '‰ªÖÊîØÊåÅÊäñÈü≥ÂíåÂ∞èÁ∫¢‰π¶ÈìæÊé•',\n                    icon: 'none'\n                });\n                return;\n            }\n\n            this.generating = true;\n            try {\n                const res = await api.removeLogo({\n                    shareUrl: this.shareUrl.trim()\n                });\n                if (res.code === 200) {\n                    uni.navigateTo({\n                        url: `/pages/result/result?type=1&resultUrl=${encodeURIComponent(res.data.resultUrl)}`\n                    });\n                } else {\n                    uni.showToast({\n                        title: res.message || 'ÂéªÊ∞¥Âç∞Â§±Ë¥•',\n                        icon: 'none'\n                    });\n                }\n            } catch (e) {\n                console.error('ÂéªÊ∞¥Âç∞Â§±Ë¥•', e);\n                uni.showToast({\n                    title: e.message || 'ÂéªÊ∞¥Âç∞Â§±Ë¥•ÔºåËØ∑ÈáçËØï',\n                    icon: 'none'\n                });\n            } finally {\n                this.generating = false;\n            }\n        }\n    }\n};\n</script>\n\n<style scoped>\n.container {\n    min-height: 100vh;\n    background: #f5f5f5;\n    padding: 30rpx;\n}\n\n.upload-area {\n    background: #fff;\n    border-radius: 20rpx;\n    padding: 60rpx 40rpx;\n    text-align: center;\n    margin-bottom: 30rpx;\n    min-height: 400rpx;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n}\n\n.upload-icon-placeholder {\n    width: 120rpx;\n    height: 120rpx;\n    margin: 0 auto 20rpx;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 80rpx;\n    line-height: 1;\n}\n\n.preview-video {\n    width: 100%;\n    max-height: 500rpx;\n    border-radius: 10rpx;\n}\n\n.upload-text {\n    font-size: 28rpx;\n    color: #999;\n}\n\n.tips {\n    margin-bottom: 40rpx;\n}\n\n.tips-text {\n    font-size: 24rpx;\n    color: #999;\n}\n\n.generate-btn {\n    width: 100%;\n    height: 88rpx;\n    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n    color: #fff;\n    border-radius: 44rpx;\n    font-size: 32rpx;\n    border: none;\n}\n\n.generate-btn[disabled] {\n    background: #ccc;\n}\n\n.form-item {\n    background: #fff;\n    border-radius: 20rpx;\n    padding: 30rpx;\n    margin-bottom: 30rpx;\n}\n\n.label {\n    display: block;\n    font-size: 28rpx;\n    color: #333;\n    margin-bottom: 20rpx;\n    font-weight: 500;\n}\n\n.textarea {\n    width: 100%;\n    min-height: 150rpx;\n    background: #f5f5f5;\n    border-radius: 10rpx;\n    padding: 20rpx;\n    font-size: 28rpx;\n    box-sizing: border-box;\n}\n\n.link-tips {\n    margin-top: 15rpx;\n}\n\n.link-tip-text {\n    font-size: 24rpx;\n    color: #667eea;\n}\n\n.divider {\n    text-align: center;\n    margin: 30rpx 0;\n    position: relative;\n}\n\n.divider::before,\n.divider::after {\n    content: '';\n    position: absolute;\n    top: 50%;\n    width: 30%;\n    height: 1rpx;\n    background: #ddd;\n}\n\n.divider::before {\n    left: 0;\n}\n\n.divider::after {\n    right: 0;\n}\n\n.divider-text {\n    font-size: 24rpx;\n    color: #999;\n    background: #f5f5f5;\n    padding: 0 20rpx;\n    position: relative;\n    z-index: 1;\n}\n</style>\n\n","import MiniProgramPage from '/Users/gongxuesong/Work/individual/Â∑•ÂÖ∑/all/tool-ai-uniapp/pages/remove-logo/remove-logo.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni","api"],"mappings":"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"}