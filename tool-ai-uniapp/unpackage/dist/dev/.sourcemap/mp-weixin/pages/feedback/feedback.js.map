{"version":3,"file":"feedback.js","sources":["pages/feedback/feedback.vue","pages/feedback/feedback.vue?type=page"],"sourcesContent":["<template>\n    <view class=\"container\">\n        <view class=\"header\">\n            <text class=\"title\">ÊÑèËßÅÂèçÈ¶à</text>\n            <text class=\"subtitle\">ÊÇ®ÁöÑÂª∫ËÆÆÂØπÊàë‰ª¨ÂæàÈáçË¶Å</text>\n        </view>\n\n        <view class=\"form-card\">\n            <view class=\"form-item\">\n                <text class=\"label\">ÂèçÈ¶àÁ±ªÂûã</text>\n                <view class=\"type-options\">\n                    <view \n                        class=\"type-option\" \n                        :class=\"{ active: feedbackType === 1 }\"\n                        @click=\"feedbackType = 1\"\n                    >\n                        <text class=\"type-icon\">üí°</text>\n                        <text class=\"type-text\">ÂäüËÉΩÂª∫ËÆÆ</text>\n                    </view>\n                    <view \n                        class=\"type-option\" \n                        :class=\"{ active: feedbackType === 2 }\"\n                        @click=\"feedbackType = 2\"\n                    >\n                        <text class=\"type-icon\">üêõ</text>\n                        <text class=\"type-text\">ÈóÆÈ¢òÂèçÈ¶à</text>\n                    </view>\n                    <view \n                        class=\"type-option\" \n                        :class=\"{ active: feedbackType === 3 }\"\n                        @click=\"feedbackType = 3\"\n                    >\n                        <text class=\"type-icon\">üí¨</text>\n                        <text class=\"type-text\">ÂÖ∂‰ªñ</text>\n                    </view>\n                </view>\n            </view>\n\n            <view class=\"form-item\">\n                <text class=\"label\">ÂèçÈ¶àÂÜÖÂÆπ <text class=\"required\">*</text></text>\n                <textarea\n                    class=\"textarea\"\n                    v-model=\"content\"\n                    placeholder=\"ËØ∑ËØ¶ÁªÜÊèèËø∞ÊÇ®ÁöÑÂèçÈ¶àÂÜÖÂÆπ...\"\n                    :maxlength=\"1000\"\n                    :show-confirm-bar=\"false\"\n                ></textarea>\n                <view class=\"char-count\">{{ content.length }}/1000</view>\n            </view>\n\n            <view class=\"form-item\">\n                <text class=\"label\">ËÅîÁ≥ªÊñπÂºèÔºàÂèØÈÄâÔºâ</text>\n                <input\n                    class=\"input\"\n                    v-model=\"contact\"\n                    placeholder=\"ÂæÆ‰ø°Âè∑„ÄÅQQÂè∑ÊàñÂÖ∂‰ªñËÅîÁ≥ªÊñπÂºè\"\n                    :maxlength=\"100\"\n                />\n            </view>\n        </view>\n\n        <button\n            class=\"submit-btn\"\n            :disabled=\"!canSubmit || submitting\"\n            @click=\"submitFeedback\"\n        >\n            {{ submitting ? 'Êèê‰∫§‰∏≠...' : 'Êèê‰∫§ÂèçÈ¶à' }}\n        </button>\n    </view>\n</template>\n\n<script>\nimport api from '@/common/utils/api.js';\n\nexport default {\n    data() {\n        return {\n            feedbackType: 1, // 1-ÂäüËÉΩÂª∫ËÆÆ 2-ÈóÆÈ¢òÂèçÈ¶à 3-ÂÖ∂‰ªñ\n            content: '',\n            contact: '',\n            submitting: false\n        };\n    },\n    computed: {\n        canSubmit() {\n            return this.feedbackType > 0 && this.content.trim().length > 0 && !this.submitting;\n        }\n    },\n    methods: {\n        async submitFeedback() {\n            if (!this.canSubmit) {\n                uni.showToast({\n                    title: 'ËØ∑Â°´ÂÜôÂèçÈ¶àÂÜÖÂÆπ',\n                    icon: 'none'\n                });\n                return;\n            }\n\n            this.submitting = true;\n            try {\n                const res = await api.submitFeedback({\n                    feedbackType: this.feedbackType,\n                    content: this.content.trim(),\n                    contact: this.contact.trim() || null\n                });\n\n                if (res.code === 200) {\n                    uni.showToast({\n                        title: 'ÂèçÈ¶àÊèê‰∫§ÊàêÂäü',\n                        icon: 'success'\n                    });\n                    \n                    // Âª∂ËøüËøîÂõûÔºåËÆ©Áî®Êà∑ÁúãÂà∞ÊàêÂäüÊèêÁ§∫\n                    setTimeout(() => {\n                        uni.navigateBack();\n                    }, 1500);\n                } else {\n                    uni.showToast({\n                        title: res.message || 'Êèê‰∫§Â§±Ë¥•ÔºåËØ∑ÈáçËØï',\n                        icon: 'none'\n                    });\n                }\n            } catch (e) {\n                console.error('Êèê‰∫§ÂèçÈ¶àÂ§±Ë¥•', e);\n                uni.showToast({\n                    title: 'Êèê‰∫§Â§±Ë¥•ÔºåËØ∑Ê£ÄÊü•ÁΩëÁªú',\n                    icon: 'none'\n                });\n            } finally {\n                this.submitting = false;\n            }\n        }\n    }\n};\n</script>\n\n<style scoped>\n.container {\n    min-height: 100vh;\n    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n    padding: 40rpx 30rpx;\n}\n\n.header {\n    text-align: center;\n    margin-bottom: 40rpx;\n}\n\n.title {\n    display: block;\n    font-size: 48rpx;\n    font-weight: bold;\n    color: #fff;\n    margin-bottom: 16rpx;\n}\n\n.subtitle {\n    display: block;\n    font-size: 28rpx;\n    color: rgba(255, 255, 255, 0.8);\n}\n\n.form-card {\n    background: #fff;\n    border-radius: 20rpx;\n    padding: 40rpx 30rpx;\n    margin-bottom: 40rpx;\n    box-shadow: 0 4rpx 20rpx rgba(0, 0, 0, 0.1);\n}\n\n.form-item {\n    margin-bottom: 40rpx;\n}\n\n.form-item:last-child {\n    margin-bottom: 0;\n}\n\n.label {\n    display: block;\n    font-size: 28rpx;\n    color: #333;\n    font-weight: 500;\n    margin-bottom: 20rpx;\n}\n\n.required {\n    color: #ff4757;\n}\n\n.type-options {\n    display: flex;\n    gap: 20rpx;\n}\n\n.type-option {\n    flex: 1;\n    background: #f5f5f5;\n    border-radius: 16rpx;\n    padding: 30rpx 20rpx;\n    text-align: center;\n    border: 2rpx solid transparent;\n    transition: all 0.3s;\n}\n\n.type-option.active {\n    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n    border-color: #667eea;\n}\n\n.type-option.active .type-text {\n    color: #fff;\n}\n\n.type-icon {\n    display: block;\n    font-size: 48rpx;\n    margin-bottom: 12rpx;\n}\n\n.type-text {\n    display: block;\n    font-size: 26rpx;\n    color: #666;\n    font-weight: 500;\n}\n\n.textarea {\n    width: 100%;\n    min-height: 240rpx;\n    background: #f5f5f5;\n    border-radius: 12rpx;\n    padding: 24rpx;\n    font-size: 28rpx;\n    color: #333;\n    box-sizing: border-box;\n}\n\n.char-count {\n    text-align: right;\n    font-size: 24rpx;\n    color: #999;\n    margin-top: 12rpx;\n}\n\n.input {\n    width: 100%;\n    height: 88rpx;\n    background: #f5f5f5;\n    border-radius: 12rpx;\n    padding: 0 24rpx;\n    font-size: 28rpx;\n    color: #333;\n    box-sizing: border-box;\n}\n\n.submit-btn {\n    width: 100%;\n    height: 88rpx;\n    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n    color: #fff;\n    border-radius: 44rpx;\n    font-size: 32rpx;\n    font-weight: 500;\n    border: none;\n    box-shadow: 0 4rpx 20rpx rgba(102, 126, 234, 0.3);\n}\n\n.submit-btn[disabled] {\n    background: #ccc;\n    box-shadow: none;\n}\n</style>\n\n","import MiniProgramPage from '/Users/gongxuesong/Work/individual/Â∑•ÂÖ∑/tool-ai-all/tool-ai-uniapp/pages/feedback/feedback.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni","api"],"mappings":";;;AA0EA,MAAK,YAAU;AAAA,EACX,OAAO;AACH,WAAO;AAAA,MACH,cAAc;AAAA;AAAA,MACd,SAAS;AAAA,MACT,SAAS;AAAA,MACT,YAAY;AAAA;EAEnB;AAAA,EACD,UAAU;AAAA,IACN,YAAY;AACR,aAAO,KAAK,eAAe,KAAK,KAAK,QAAQ,KAAM,EAAC,SAAS,KAAK,CAAC,KAAK;AAAA,IAC5E;AAAA,EACH;AAAA,EACD,SAAS;AAAA,IACL,MAAM,iBAAiB;AACnB,UAAI,CAAC,KAAK,WAAW;AACjBA,sBAAAA,MAAI,UAAU;AAAA,UACV,OAAO;AAAA,UACP,MAAM;AAAA,QACV,CAAC;AACD;AAAA,MACJ;AAEA,WAAK,aAAa;AAClB,UAAI;AACA,cAAM,MAAM,MAAMC,iBAAG,IAAC,eAAe;AAAA,UACjC,cAAc,KAAK;AAAA,UACnB,SAAS,KAAK,QAAQ,KAAM;AAAA,UAC5B,SAAS,KAAK,QAAQ,KAAO,KAAG;AAAA,QACpC,CAAC;AAED,YAAI,IAAI,SAAS,KAAK;AAClBD,wBAAAA,MAAI,UAAU;AAAA,YACV,OAAO;AAAA,YACP,MAAM;AAAA,UACV,CAAC;AAGD,qBAAW,MAAM;AACbA,0BAAG,MAAC,aAAY;AAAA,UACnB,GAAE,IAAI;AAAA,eACJ;AACHA,wBAAAA,MAAI,UAAU;AAAA,YACV,OAAO,IAAI,WAAW;AAAA,YACtB,MAAM;AAAA,UACV,CAAC;AAAA,QACL;AAAA,MACJ,SAAS,GAAG;AACRA,sBAAA,MAAA,MAAA,SAAA,sCAAc,UAAU,CAAC;AACzBA,sBAAAA,MAAI,UAAU;AAAA,UACV,OAAO;AAAA,UACP,MAAM;AAAA,QACV,CAAC;AAAA,MACL,UAAU;AACN,aAAK,aAAa;AAAA,MACtB;AAAA,IACJ;AAAA,EACJ;AACJ;;;;;;;;;;;;;;;;;;;;ACpIA,GAAG,WAAW,eAAe;"}