{"version":3,"file":"old-photo.js","sources":["pages/old-photo/old-photo.vue","pages/old-photo/old-photo.vue?type=page"],"sourcesContent":["<template>\n    <view class=\"container\">\n        <!-- Ê®°ÂºèÈÄâÊã© -->\n        <view class=\"mode-section\">\n            <view class=\"mode-tabs\">\n                <view \n                    class=\"mode-tab\" \n                    :class=\"{ active: mode === 'single' }\"\n                    @click=\"mode = 'single'\"\n                >\n                    <text>ÂçïÂº†‰øÆÂ§ç</text>\n                </view>\n                <view \n                    class=\"mode-tab\" \n                    :class=\"{ active: mode === 'batch' }\"\n                    @click=\"mode = 'batch'\"\n                >\n                    <text>ÊâπÈáè‰øÆÂ§ç</text>\n                    <text class=\"batch-tag\">ÁúãÂπøÂëäÂèØÁî®</text>\n                </view>\n            </view>\n        </view>\n\n        <!-- ÂçïÂº†Ê®°Âºè -->\n        <template v-if=\"mode === 'single'\">\n            <view class=\"upload-card\" @click=\"chooseImage\">\n                <image v-if=\"imageUrl\" :src=\"imageUrl\" class=\"preview-image\" mode=\"aspectFit\"></image>\n                <view v-else class=\"upload-placeholder\">\n                    <text class=\"upload-icon\">üì∏</text>\n                    <text class=\"upload-text\">ÁÇπÂáª‰∏ä‰º†ËÄÅÁÖßÁâá</text>\n                    <text class=\"upload-subtext\">ÊîØÊåÅJPG/PNGÔºåÂª∫ËÆÆ‰∫∫ËÑ∏Ê∏ÖÊô∞Êó†ÈÅÆÊå°</text>\n                </view>\n            </view>\n\n            <view class=\"form-card\">\n                <view class=\"form-row\">\n                    <text class=\"label\">‰øÆÂ§çÂº∫Â∫¶</text>\n                    <text class=\"value-text\">{{ (strength * 100).toFixed(0) }}%</text>\n                </view>\n                <slider\n                    :value=\"strength * 100\"\n                    min=\"50\"\n                    max=\"100\"\n                    step=\"5\"\n                    activeColor=\"#667eea\"\n                    backgroundColor=\"#e0e0e0\"\n                    block-size=\"18\"\n                    @change=\"onStrengthChange\"\n                />\n                <view class=\"tips\">\n                    <text class=\"tips-text\">ÈªòËÆ§70%ÔºåÊõ¥È´ò‰ºöÊõ¥ÈîêÂà©‰ΩÜÂèØËÉΩÂ∏¶Êù•ËΩªÂæÆÂ§±Áúü</text>\n                </view>\n            </view>\n\n            <button\n                class=\"generate-btn\"\n                :disabled=\"!imageUrl || generating\"\n                @click=\"restore\"\n            >\n                {{ generating ? '‰øÆÂ§ç‰∏≠...' : 'ÂºÄÂßã‰øÆÂ§ç' }}\n            </button>\n        </template>\n\n        <!-- ÊâπÈáèÊ®°Âºè -->\n        <template v-else>\n            <view class=\"batch-upload-section\">\n                <view class=\"upload-grid\">\n                    <view \n                        v-for=\"(item, index) in imageList\" \n                        :key=\"index\"\n                        class=\"image-item\"\n                        @click=\"removeImage(index)\"\n                    >\n                        <image :src=\"item.url\" class=\"batch-image\" mode=\"aspectFill\"></image>\n                        <view class=\"remove-icon\">√ó</view>\n                    </view>\n                    <view \n                        v-if=\"imageList.length < 10\"\n                        class=\"upload-item\" \n                        @click=\"chooseBatchImages\"\n                    >\n                        <text class=\"upload-plus\">+</text>\n                        <text class=\"upload-hint\">Ê∑ªÂä†ÁÖßÁâá</text>\n                        <text class=\"upload-count\">{{ imageList.length }}/10</text>\n                    </view>\n                </view>\n                \n                <view class=\"batch-tips\">\n                    <text class=\"batch-tips-text\">ÊâπÈáè‰øÆÂ§çÔºöÊúÄÂ§ö10Âº†ÔºåÊØèÂ§©Á¨¨‰∏ÄÂº†ÂÖçË¥πÔºåÁúãÂπøÂëäÂêéÂèØËé∑Âæó10Âº†È¢ùÂ∫¶</text>\n                    <view v-if=\"remainingCount >= 0\" class=\"count-info\">\n                        <text class=\"count-text\">ÂπøÂëäÈ¢ùÂ∫¶Ôºö{{ remainingCount }}Âº†</text>\n                    </view>\n                </view>\n            </view>\n\n            <view class=\"form-card\">\n                <view class=\"form-row\">\n                    <text class=\"label\">‰øÆÂ§çÂº∫Â∫¶</text>\n                    <text class=\"value-text\">{{ (strength * 100).toFixed(0) }}%</text>\n                </view>\n                <slider\n                    :value=\"strength * 100\"\n                    min=\"50\"\n                    max=\"100\"\n                    step=\"5\"\n                    activeColor=\"#667eea\"\n                    backgroundColor=\"#e0e0e0\"\n                    block-size=\"18\"\n                    @change=\"onStrengthChange\"\n                />\n                <view class=\"tips\">\n                    <text class=\"tips-text\">ÈªòËÆ§70%ÔºåÊõ¥È´ò‰ºöÊõ¥ÈîêÂà©‰ΩÜÂèØËÉΩÂ∏¶Êù•ËΩªÂæÆÂ§±Áúü</text>\n                </view>\n            </view>\n\n            <button\n                class=\"generate-btn\"\n                :disabled=\"imageList.length === 0 || generating\"\n                @click=\"batchRestore\"\n            >\n                {{ generating ? 'ÊâπÈáè‰øÆÂ§ç‰∏≠...' : `ÊâπÈáè‰øÆÂ§ç(${imageList.length}Âº†)` }}\n            </button>\n        </template>\n\n        <!-- BannerÂπøÂëä -->\n        <ad-video-banner />\n    </view>\n</template>\n\n<script>\nimport api from '@/common/utils/api.js';\nimport apiConfig from '@/common/config/api-config.js';\nimport { showRewardedVideo } from '@/common/utils/ad.js';\nimport AdVideoBanner from '@/common/components/ad-video-banner.vue';\n\nexport default {\n    components: {\n        AdVideoBanner\n    },\n    data() {\n        return {\n            mode: 'single', // 'single' ÂçïÂº†Ê®°Âºè, 'batch' ÊâπÈáèÊ®°Âºè\n            imageUrl: '', // OSS Âú∞ÂùÄÔºàÂçïÂº†Ê®°ÂºèÔºâ\n            imageTempPath: '', // Êú¨Âú∞È¢ÑËßàË∑ØÂæÑÔºàÂçïÂº†Ê®°ÂºèÔºâ\n            imageList: [], // ÊâπÈáèÊ®°ÂºèÂõæÁâáÂàóË°®ÔºåÊ†ºÂºè: [{ url: '...', ossUrl: '...' }]\n            strength: 0.7,\n            generating: false,\n            remainingCount: 0 // ÊâπÈáè‰øÆÂ§çÂπøÂëäÈ¢ùÂ∫¶Ôºà‰∏çÂåÖÂê´ÂÖçË¥πÁöÑÁ¨¨‰∏ÄÂº†Ôºâ\n        };\n    },\n    onLoad() {\n        this.checkBatchRestoreStatus();\n    },\n    methods: {\n        /**\n         * Ê£ÄÊü•ÊâπÈáè‰øÆÂ§çÂâ©‰ΩôÊ¨°Êï∞\n         */\n        async checkBatchRestoreStatus() {\n            try {\n                const res = await api.checkBatchRestoreAd();\n                if (res.code === 200) {\n                    this.remainingCount = res.data.remainingCount || 0;\n                }\n            } catch (e) {\n                console.error('Ê£ÄÊü•ÊâπÈáè‰øÆÂ§çÁä∂ÊÄÅÂ§±Ë¥•', e);\n            }\n        },\n        \n        /**\n         * ËßÇÁúãÂπøÂëäËé∑ÂæóÊâπÈáè‰øÆÂ§çÊ¨°Êï∞\n         */\n        async watchAdForBatch() {\n            try {\n                uni.showLoading({ title: 'Âä†ËΩΩÂπøÂëä‰∏≠...' });\n                await showRewardedVideo();\n                uni.hideLoading();\n                \n                // ËÆ∞ÂΩïÂπøÂëäËßÇÁúã\n                const res = await api.recordAdWatch(2);\n                if (res.code === 200) {\n                    // Êõ¥Êñ∞Ââ©‰ΩôÈ¢ùÂ∫¶\n                    await this.checkBatchRestoreStatus();\n                    uni.showToast({\n                        title: `ËßÇÁúãÊàêÂäüÔºÅËé∑Âæó10Âº†È¢ùÂ∫¶`,\n                        icon: 'success'\n                    });\n                } else {\n                    uni.showToast({\n                        title: 'ËÆ∞ÂΩïÂ§±Ë¥•ÔºåËØ∑ÈáçËØï',\n                        icon: 'none'\n                    });\n                }\n            } catch (e) {\n                uni.hideLoading();\n                console.error('ËßÇÁúãÂπøÂëäÂ§±Ë¥•', e);\n                if (e.message && !e.message.includes('ÂπøÂëäÊú™ÂÆåÊï¥ËßÇÁúã')) {\n                    uni.showToast({\n                        title: 'ËßÇÁúãÂπøÂëäÂ§±Ë¥•ÔºåËØ∑ÈáçËØï',\n                        icon: 'none'\n                    });\n                }\n            }\n        },\n        \n        onStrengthChange(e) {\n            this.strength = (e.detail.value || 70) / 100;\n        },\n        chooseImage() {\n            uni.chooseImage({\n                count: 1,\n                sizeType: ['original', 'compressed'],\n                sourceType: ['album', 'camera'],\n                success: (res) => {\n                    this.imageTempPath = res.tempFilePaths[0];\n                    this.imageUrl = this.imageTempPath; // ÂÖàÊú¨Âú∞È¢ÑËßà\n                    this.uploadImage();\n                },\n                fail: (err) => {\n                    console.error('ÈÄâÊã©ÂõæÁâáÂ§±Ë¥•', err);\n                    uni.showToast({\n                        title: 'ÈÄâÊã©ÂõæÁâáÂ§±Ë¥•',\n                        icon: 'none'\n                    });\n                }\n            });\n        },\n        \n        /**\n         * ÈÄâÊã©ÊâπÈáèÂõæÁâá\n         */\n        chooseBatchImages() {\n            const remaining = 10 - this.imageList.length;\n            if (remaining <= 0) {\n                uni.showToast({\n                    title: 'ÊúÄÂ§öÂè™ËÉΩÈÄâÊã©10Âº†ÂõæÁâá',\n                    icon: 'none'\n                });\n                return;\n            }\n            \n            uni.chooseImage({\n                count: remaining,\n                sizeType: ['original', 'compressed'],\n                sourceType: ['album', 'camera'],\n                success: (res) => {\n                    // Ê∑ªÂä†Âà∞ÂàóË°®Âπ∂‰∏ä‰º†\n                    res.tempFilePaths.forEach(tempPath => {\n                        this.imageList.push({\n                            url: tempPath,\n                            ossUrl: '',\n                            uploading: true\n                        });\n                        this.uploadBatchImage(this.imageList.length - 1, tempPath);\n                    });\n                },\n                fail: (err) => {\n                    console.error('ÈÄâÊã©ÂõæÁâáÂ§±Ë¥•', err);\n                    uni.showToast({\n                        title: 'ÈÄâÊã©ÂõæÁâáÂ§±Ë¥•',\n                        icon: 'none'\n                    });\n                }\n            });\n        },\n        \n        /**\n         * ‰∏ä‰º†ÊâπÈáèÂõæÁâá‰∏≠ÁöÑ‰∏ÄÂº†\n         */\n        async uploadBatchImage(index, tempPath) {\n            try {\n                const token = uni.getStorageSync('token');\n                if (!token) throw new Error('Êú™ÁôªÂΩï');\n\n                const uploadRes = await new Promise((resolve, reject) => {\n                    uni.uploadFile({\n                        url: `${apiConfig.BASE_URL}/tool/upload-image`,\n                        filePath: tempPath,\n                        name: 'file',\n                        header: { 'Authorization': 'Bearer ' + token },\n                        success: (res) => {\n                            try {\n                                const data = JSON.parse(res.data);\n                                if (data.code === 200) {\n                                    resolve(data);\n                                } else {\n                                    reject(new Error(data.message || '‰∏ä‰º†Â§±Ë¥•'));\n                                }\n                            } catch (e) {\n                                reject(new Error('Ëß£ÊûêÂìçÂ∫îÂ§±Ë¥•'));\n                            }\n                        },\n                        fail: reject\n                    });\n                });\n\n                if (uploadRes.data && uploadRes.data.imageUrl) {\n                    this.imageList[index].ossUrl = uploadRes.data.imageUrl;\n                    this.imageList[index].uploading = false;\n                }\n            } catch (e) {\n                console.error('‰∏ä‰º†ÂõæÁâáÂ§±Ë¥•', e);\n                this.imageList[index].uploading = false;\n                uni.showToast({\n                    title: 'ÂõæÁâá‰∏ä‰º†Â§±Ë¥•',\n                    icon: 'none'\n                });\n            }\n        },\n        \n        /**\n         * ÁßªÈô§ÂõæÁâá\n         */\n        removeImage(index) {\n            this.imageList.splice(index, 1);\n        },\n        async uploadImage() {\n            if (!this.imageTempPath) return;\n            uni.showLoading({ title: '‰∏ä‰º†‰∏≠...' });\n            try {\n                const token = uni.getStorageSync('token');\n                if (!token) throw new Error('Êú™ÁôªÂΩï');\n\n                const uploadRes = await new Promise((resolve, reject) => {\n                    uni.uploadFile({\n                        url: `${apiConfig.BASE_URL}/tool/upload-image`,\n                        filePath: this.imageTempPath,\n                        name: 'file',\n                        header: { 'Authorization': 'Bearer ' + token },\n                        success: (res) => {\n                            try {\n                                const data = JSON.parse(res.data);\n                                if (data.code === 200) {\n                                    resolve(data);\n                                } else {\n                                    reject(new Error(data.message || '‰∏ä‰º†Â§±Ë¥•'));\n                                }\n                            } catch (e) {\n                                reject(new Error('Ëß£ÊûêÂìçÂ∫îÂ§±Ë¥•'));\n                            }\n                        },\n                        fail: reject\n                    });\n                });\n\n                if (uploadRes.data && uploadRes.data.imageUrl) {\n                    this.imageUrl = uploadRes.data.imageUrl;\n                }\n                uni.hideLoading();\n            } catch (e) {\n                console.error('‰∏ä‰º†ÂõæÁâáÂ§±Ë¥•', e);\n                uni.hideLoading();\n                uni.showToast({\n                    title: e.message || '‰∏ä‰º†Â§±Ë¥•',\n                    icon: 'none'\n                });\n                this.imageUrl = '';\n                this.imageTempPath = '';\n            }\n        },\n        async restore() {\n            if (!this.imageUrl) {\n                uni.showToast({ title: 'ËØ∑ÂÖà‰∏ä‰º†ÁÖßÁâá', icon: 'none' });\n                return;\n            }\n            this.generating = true;\n            try {\n                const res = await api.restoreOldPhoto({\n                    imageUrl: this.imageUrl,\n                    strength: Number(this.strength.toFixed(2))\n                });\n                if (res.code === 200) {\n                    uni.navigateTo({\n                        url: `/pages/result/result?type=6&resultUrl=${encodeURIComponent(res.data.resultUrl)}`\n                    });\n                } else {\n                    uni.showToast({\n                        title: res.message || '‰øÆÂ§çÂ§±Ë¥•',\n                        icon: 'none'\n                    });\n                }\n            } catch (e) {\n                console.error('‰øÆÂ§çÂ§±Ë¥•', e);\n                uni.showToast({\n                    title: e.message || '‰øÆÂ§çÂ§±Ë¥•ÔºåËØ∑ÈáçËØï',\n                    icon: 'none'\n                });\n            } finally {\n                this.generating = false;\n            }\n        },\n        \n        /**\n         * ÊâπÈáè‰øÆÂ§ç\n         */\n        async batchRestore() {\n            if (this.imageList.length === 0) {\n                uni.showToast({ title: 'ËØ∑ÂÖàÈÄâÊã©ÁÖßÁâá', icon: 'none' });\n                return;\n            }\n            \n            // Ê£ÄÊü•ÊòØÂê¶ÊúâÊú™‰∏ä‰º†ÂÆåÊàêÁöÑÂõæÁâá\n            const uploadingImages = this.imageList.filter(img => img.uploading || !img.ossUrl);\n            if (uploadingImages.length > 0) {\n                uni.showToast({ title: 'ËØ∑Á≠âÂæÖÂõæÁâá‰∏ä‰º†ÂÆåÊàê', icon: 'none' });\n                return;\n            }\n            \n            // Ê£ÄÊü•Ââ©‰ΩôÈ¢ùÂ∫¶ÔºàÁ¨¨‰∏ÄÂº†ÂÖçË¥πÔºåÊâÄ‰ª•Âè™ÈúÄË¶ÅÊ£ÄÊü•Ââ©‰ΩôÁöÑÈ¢ùÂ∫¶Ôºâ\n            const needCount = Math.max(0, this.imageList.length - 1); // Èô§‰∫ÜÁ¨¨‰∏ÄÂº†Â§ñÈúÄË¶ÅÁöÑÈ¢ùÂ∫¶\n            if (needCount > 0 && this.remainingCount < needCount) {\n                uni.showModal({\n                    title: 'È¢ùÂ∫¶‰∏çË∂≥',\n                    content: `ÈúÄË¶Å${needCount}Âº†È¢ùÂ∫¶ÔºàÁ¨¨‰∏ÄÂº†ÂÖçË¥πÔºâÔºåÂΩìÂâçÂâ©‰Ωô${this.remainingCount}Âº†„ÄÇËßÇÁúãÂπøÂëäÂèØËé∑Âæó10Âº†È¢ùÂ∫¶`,\n                    confirmText: 'ËßÇÁúãÂπøÂëä',\n                    cancelText: 'ÂèñÊ∂à',\n                    success: (res) => {\n                        if (res.confirm) {\n                            this.watchAdForBatch();\n                        }\n                    }\n                });\n                return;\n            }\n            \n            this.generating = true;\n            try {\n                // ÊèêÂèñÊâÄÊúâOSS URL\n                const imageUrls = this.imageList.map(img => img.ossUrl).filter(url => url);\n                \n                const res = await api.batchRestoreOldPhoto({\n                    imageUrls: imageUrls,\n                    strength: Number(this.strength.toFixed(2))\n                });\n                \n                if (res.code === 200) {\n                    // Êõ¥Êñ∞Ââ©‰ΩôÊ¨°Êï∞\n                    await this.checkBatchRestoreStatus();\n                    \n                    uni.navigateTo({\n                        url: `/pages/result/result?type=6&resultUrl=${encodeURIComponent(res.data.resultUrl)}`\n                    });\n                } else {\n                    uni.showToast({\n                        title: res.message || 'ÊâπÈáè‰øÆÂ§çÂ§±Ë¥•',\n                        icon: 'none'\n                    });\n                }\n            } catch (e) {\n                console.error('ÊâπÈáè‰øÆÂ§çÂ§±Ë¥•', e);\n                // Â¶ÇÊûúÊòØÊ¨°Êï∞‰∏çË∂≥ÈîôËØØÔºåÊõ¥Êñ∞Áä∂ÊÄÅ\n                if (e.message && e.message.includes('Ê¨°Êï∞')) {\n                    await this.checkBatchRestoreStatus();\n                }\n                uni.showToast({\n                    title: e.message || 'ÊâπÈáè‰øÆÂ§çÂ§±Ë¥•ÔºåËØ∑ÈáçËØï',\n                    icon: 'none'\n                });\n            } finally {\n                this.generating = false;\n            }\n        }\n    },\n    watch: {\n        mode(newVal) {\n            // ÂàáÊç¢Ê®°ÂºèÊó∂Ê£ÄÊü•Áä∂ÊÄÅ\n            if (newVal === 'batch') {\n                this.checkBatchRestoreStatus();\n            }\n        }\n    }\n};\n</script>\n\n<style scoped>\n.container {\n    min-height: 100vh;\n    background: #f5f5f5;\n    padding: 30rpx;\n}\n\n.upload-card {\n    background: #fff;\n    border-radius: 20rpx;\n    padding: 40rpx 30rpx;\n    margin-bottom: 30rpx;\n    border: 2rpx dashed #ddd;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    min-height: 360rpx;\n}\n\n.upload-placeholder {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    gap: 12rpx;\n    color: #777;\n}\n\n.upload-icon {\n    font-size: 80rpx;\n}\n\n.upload-text {\n    font-size: 32rpx;\n    color: #333;\n    font-weight: 500;\n}\n\n.upload-subtext {\n    font-size: 24rpx;\n    color: #999;\n}\n\n.preview-image {\n    width: 100%;\n    max-height: 500rpx;\n    border-radius: 12rpx;\n}\n\n.form-card {\n    background: #fff;\n    border-radius: 20rpx;\n    padding: 30rpx;\n    margin-bottom: 30rpx;\n}\n\n.form-row {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 20rpx;\n}\n\n.label {\n    font-size: 28rpx;\n    color: #333;\n    font-weight: 500;\n}\n\n.value-text {\n    font-size: 28rpx;\n    color: #667eea;\n}\n\n.tips {\n    margin-top: 10rpx;\n}\n\n.tips-text {\n    font-size: 24rpx;\n    color: #999;\n}\n\n.generate-btn {\n    width: 100%;\n    height: 88rpx;\n    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n    color: #fff;\n    border-radius: 44rpx;\n    font-size: 32rpx;\n    border: none;\n    margin-top: 20rpx;\n}\n\n.generate-btn[disabled] {\n    background: #ccc;\n}\n\n/* Ê®°ÂºèÈÄâÊã© */\n.mode-section {\n    margin-bottom: 30rpx;\n}\n\n.mode-tabs {\n    display: flex;\n    gap: 20rpx;\n    background: #fff;\n    border-radius: 20rpx;\n    padding: 10rpx;\n}\n\n.mode-tab {\n    flex: 1;\n    text-align: center;\n    padding: 20rpx;\n    border-radius: 16rpx;\n    position: relative;\n    transition: all 0.3s;\n}\n\n.mode-tab.active {\n    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n    color: #fff;\n}\n\n.mode-tab:not(.active) {\n    color: #666;\n}\n\n.batch-tag {\n    display: block;\n    font-size: 20rpx;\n    margin-top: 5rpx;\n    opacity: 0.8;\n}\n\n.mode-tab.active .batch-tag {\n    color: rgba(255, 255, 255, 0.9);\n}\n\n/* ÊâπÈáè‰∏ä‰º† */\n.batch-upload-section {\n    margin-bottom: 30rpx;\n}\n\n.upload-grid {\n    display: grid;\n    grid-template-columns: repeat(3, 1fr);\n    gap: 15rpx;\n    margin-bottom: 20rpx;\n}\n\n.image-item {\n    position: relative;\n    aspect-ratio: 1;\n    border-radius: 12rpx;\n    overflow: hidden;\n}\n\n.batch-image {\n    width: 100%;\n    height: 100%;\n}\n\n.remove-icon {\n    position: absolute;\n    top: 5rpx;\n    right: 5rpx;\n    width: 40rpx;\n    height: 40rpx;\n    background: rgba(0, 0, 0, 0.6);\n    border-radius: 50%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    color: #fff;\n    font-size: 32rpx;\n    line-height: 1;\n}\n\n.upload-item {\n    aspect-ratio: 1;\n    background: #f5f5f5;\n    border: 2rpx dashed #ddd;\n    border-radius: 12rpx;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    position: relative;\n}\n\n.upload-plus {\n    font-size: 60rpx;\n    color: #999;\n    line-height: 1;\n    margin-bottom: 10rpx;\n}\n\n.upload-hint {\n    font-size: 24rpx;\n    color: #999;\n}\n\n.upload-count {\n    position: absolute;\n    bottom: 10rpx;\n    font-size: 22rpx;\n    color: #667eea;\n}\n\n.batch-tips {\n    background: #fff;\n    border-radius: 12rpx;\n    padding: 20rpx;\n}\n\n.batch-tips-text {\n    display: block;\n    font-size: 24rpx;\n    color: #666;\n    line-height: 1.6;\n    margin-bottom: 10rpx;\n}\n\n.count-info {\n    margin-top: 10rpx;\n    padding-top: 10rpx;\n    border-top: 1rpx solid #f0f0f0;\n}\n\n.count-text {\n    font-size: 26rpx;\n    color: #667eea;\n    font-weight: 500;\n}\n</style>\n\n","import MiniProgramPage from '/Users/gongxuesong/Work/individual/Â∑•ÂÖ∑/tool-ai-all/tool-ai-uniapp/pages/old-photo/old-photo.vue'\nwx.createPage(MiniProgramPage)"],"names":["api","uni","showRewardedVideo","apiConfig"],"mappings":"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"}