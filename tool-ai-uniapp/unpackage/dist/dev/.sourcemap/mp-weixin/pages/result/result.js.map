{"version":3,"file":"result.js","sources":["pages/result/result.vue","pages/result/result.vue?type=page"],"sourcesContent":["<template>\n    <view class=\"container\">\n        <view class=\"result-header\">\n            <text class=\"result-title\">@{{ nickname }}专属{{ typeName }}</text>\n        </view>\n\n        <!-- 根据类型显示图片或视频 -->\n        <view class=\"result-container\">\n            <!-- 视频类型 -->\n            <view v-if=\"isVideo\" class=\"result-video-container\">\n                <video \n                    :src=\"resultUrl\" \n                    class=\"result-video\" \n                    controls\n                    :show-center-play-btn=\"true\"\n                    :enable-play-gesture=\"true\"\n                    :show-fullscreen-btn=\"true\"\n                    @play=\"onVideoPlay\"\n                    @error=\"onVideoError\"\n                ></video>\n            </view>\n            \n            <!-- 图片类型 -->\n            <view v-else class=\"result-image-container\">\n                <!-- 图片轮播（IMAGE_LIST格式，包括单图和多图） -->\n                <swiper v-if=\"imageList.length > 0\" class=\"image-swiper\" :current=\"currentImageIndex\" @change=\"onSwiperChange\" :indicator-dots=\"true\" :autoplay=\"false\">\n                    <swiper-item v-for=\"(imageUrl, index) in imageList\" :key=\"index\">\n                        <image \n                            :src=\"imageUrl\" \n                            class=\"result-image\" \n                            mode=\"aspectFit\" \n                            @load=\"onImageLoad\"\n                            @error=\"onImageError\"\n                            :lazy-load=\"false\"\n                        ></image>\n                    </swiper-item>\n                </swiper>\n                <!-- 单图显示（非IMAGE_LIST格式，如星座运势） -->\n                <image \n                    v-else \n                    :src=\"resultUrl\" \n                    class=\"result-image\" \n                    mode=\"aspectFit\" \n                    @load=\"onImageLoad\"\n                    @error=\"onImageError\"\n                    :lazy-load=\"false\"\n                    :show-menu-by-longpress=\"true\"\n                ></image>\n                <!-- 图片指示器（多图时显示） -->\n                <view v-if=\"imageList.length > 1\" class=\"image-indicator\">\n                    <text class=\"indicator-text\">{{ currentImageIndex + 1 }} / {{ imageList.length }}</text>\n                </view>\n            </view>\n        </view>\n\n        <view class=\"action-buttons\">\n            <button class=\"save-btn\" @click=\"saveToAlbum\">\n                {{ isVideo ? '保存视频到相册' : (imageList.length > 1 ? `保存全部${imageList.length}张图片` : '保存到相册') }}\n            </button>\n        </view>\n\n        <!-- Banner广告 -->\n        <ad-video-banner />\n    </view>\n</template>\n\n<script>\nimport { showRewardedVideo, showInterstitialAd } from '@/common/utils/ad.js';\nimport AdVideoBanner from '@/common/components/ad-video-banner.vue';\n\nexport default {\n    components: {\n        AdVideoBanner\n    },\n    data() {\n        return {\n            resultUrl: '',\n            type: '',\n            typeName: '',\n            nickname: '用户',\n            isVideo: false,\n            imageList: [], // 多图列表\n            currentImageIndex: 0 // 当前显示的图片索引\n        };\n    },\n    onLoad(options) {\n        console.log('=== result页面加载 ===');\n        console.log('原始options:', options);\n        console.log('原始resultUrl:', options.resultUrl);\n        \n        let url = decodeURIComponent(options.resultUrl || '');\n        console.log('解码后的URL:', url);\n        \n        this.type = options.type || '';\n        this.typeName = this.getTypeName(this.type);\n        this.nickname = uni.getStorageSync('nickname') || '用户';\n        \n        console.log('result页面加载，type:', this.type, 'url:', url);\n        \n        // 检查是否是多图内容（格式：IMAGE_LIST:[\"url1\",\"url2\",...]）\n        if (url.startsWith('IMAGE_LIST:')) {\n            try {\n                const imageListJson = url.substring('IMAGE_LIST:'.length);\n                this.imageList = JSON.parse(imageListJson);\n                if (this.imageList && this.imageList.length > 0) {\n                    this.resultUrl = this.imageList[0]; // 默认显示第一张\n                    this.currentImageIndex = 0;\n                    console.log('检测到多图内容，共', this.imageList.length, '张图片');\n                }\n            } catch (e) {\n                console.error('解析图片列表失败', e);\n                this.resultUrl = url;\n            }\n        } else {\n            this.resultUrl = url;\n            // 判断是否为视频（去水印类型且URL包含视频特征）\n            this.isVideo = this.type === '1' && this.isVideoUrl(this.resultUrl);\n        }\n        \n        console.log('=== 最终显示信息 ===');\n        console.log('最终resultUrl:', this.resultUrl);\n        console.log('isVideo:', this.isVideo);\n        console.log('==================');\n    },\n    methods: {\n        getTypeName(type) {\n            const names = {\n                '1': '去水印',\n                '2': 'AI头像',\n                '3': '姓氏签名',\n                '4': '运势测试',\n                '5': '星座运势'\n            };\n            return names[type] || '结果';\n        },\n        /**\n         * 判断是否为视频URL\n         */\n        isVideoUrl(url) {\n            if (!url) return false;\n            // 检查URL是否包含视频特征\n            const videoExtensions = ['.mp4', '.m3u8', '.flv', '.mov', '.avi', '.webm'];\n            const videoKeywords = ['video', 'play', 'stream', 'm3u8'];\n            \n            const lowerUrl = url.toLowerCase();\n            // 检查文件扩展名\n            if (videoExtensions.some(ext => lowerUrl.includes(ext))) {\n                return true;\n            }\n            // 检查关键词\n            if (videoKeywords.some(keyword => lowerUrl.includes(keyword))) {\n                return true;\n            }\n            // 检查是否是抖音/小红书视频链接（通常包含 play 或 video）\n            if (lowerUrl.includes('douyin') || lowerUrl.includes('xiaohongshu')) {\n                if (lowerUrl.includes('play') || lowerUrl.includes('video')) {\n                    return true;\n                }\n            }\n            return false;\n        },\n        onImageLoad() {\n            console.log('图片加载完成', this.resultUrl);\n        },\n        onImageError(e) {\n            console.error('图片加载失败', e, this.resultUrl);\n            \n            // 检查是否是Content-Disposition: attachment导致的显示问题\n            // 小程序中，即使Content-Disposition是attachment，image标签通常也能显示\n            // 但如果无法显示，可能是域名白名单或网络问题\n            \n            uni.showModal({\n                title: '图片加载失败',\n                content: '图片可能无法访问，请检查：\\n1. 网络连接\\n2. 小程序域名白名单配置\\n3. 图片链接是否有效\\n\\n图片地址：' + (this.resultUrl.length > 50 ? this.resultUrl.substring(0, 50) + '...' : this.resultUrl),\n                showCancel: true,\n                confirmText: '复制地址',\n                cancelText: '关闭',\n                success: (res) => {\n                    if (res.confirm) {\n                        // 复制图片地址到剪贴板\n                        uni.setClipboardData({\n                            data: this.resultUrl,\n                            success: () => {\n                                uni.showToast({\n                                    title: '地址已复制',\n                                    icon: 'success'\n                                });\n                            }\n                        });\n                    }\n                }\n            });\n        },\n        onVideoPlay() {\n            console.log('视频开始播放');\n        },\n        onVideoError(e) {\n            console.error('视频播放错误', e);\n            uni.showToast({\n                title: '视频播放失败，请检查网络',\n                icon: 'none'\n            });\n        },\n        onSwiperChange(e) {\n            this.currentImageIndex = e.detail.current;\n        },\n        async saveToAlbum() {\n            try {\n                // 1. 显示激励视频广告\n                await showRewardedVideo();\n                \n                // 2. 保存到相册（图片或视频）\n                if (this.isVideo) {\n                    await this.downloadAndSaveVideo();\n                } else {\n                    await this.downloadAndSaveImage();\n                }\n                \n                // 3. 显示插屏广告（第1、3、5次）\n                const saveCount = this.getSaveCount();\n                const shouldShowInterstitial = [1, 3, 5].includes(saveCount);\n                await showInterstitialAd(null, shouldShowInterstitial);\n                \n                uni.showToast({\n                    title: '保存成功',\n                    icon: 'success'\n                });\n            } catch (e) {\n                console.error('保存失败', e);\n                uni.showToast({\n                    title: e.message || '保存失败，请重试',\n                    icon: 'none'\n                });\n            }\n        },\n        /**\n         * 下载并保存图片\n         */\n        downloadAndSaveImage() {\n            return new Promise((resolve, reject) => {\n                // 如果是多图，保存所有图片\n                if (this.imageList.length > 1) {\n                    this.downloadAndSaveAllImages().then(resolve).catch(reject);\n                    return;\n                }\n                \n                // 单图保存\n                uni.showLoading({\n                    title: '下载中...',\n                    mask: true\n                });\n                \n                uni.downloadFile({\n                    url: this.resultUrl,\n                    success: (res) => {\n                        uni.hideLoading();\n                        if (res.statusCode === 200) {\n                            uni.saveImageToPhotosAlbum({\n                                filePath: res.tempFilePath,\n                                success: () => {\n                                    this.incrementSaveCount();\n                                    resolve();\n                                },\n                                fail: (err) => {\n                                    console.error('保存图片失败', err);\n                                    // 检查是否缺少权限\n                                    if (err.errMsg && err.errMsg.includes('auth deny')) {\n                                        uni.showModal({\n                                            title: '需要相册权限',\n                                            content: '请在设置中开启相册权限',\n                                            showCancel: false\n                                        });\n                                    }\n                                    reject(err);\n                                }\n                            });\n                        } else {\n                            reject(new Error('下载失败'));\n                        }\n                    },\n                    fail: (err) => {\n                        uni.hideLoading();\n                        console.error('下载文件失败', err);\n                        reject(err);\n                    }\n                });\n            });\n        },\n        /**\n         * 下载并保存所有图片\n         */\n        downloadAndSaveAllImages() {\n            return new Promise((resolve, reject) => {\n                uni.showLoading({\n                    title: `下载图片 1/${this.imageList.length}...`,\n                    mask: true\n                });\n                \n                let savedCount = 0;\n                let failedCount = 0;\n                const total = this.imageList.length;\n                \n                // 逐个下载并保存\n                const downloadNext = (index) => {\n                    if (index >= total) {\n                        uni.hideLoading();\n                        if (savedCount > 0) {\n                            this.incrementSaveCount();\n                            uni.showToast({\n                                title: `已保存${savedCount}张图片`,\n                                icon: 'success'\n                            });\n                            resolve();\n                        } else {\n                            reject(new Error('所有图片保存失败'));\n                        }\n                        return;\n                    }\n                    \n                    uni.showLoading({\n                        title: `下载图片 ${index + 1}/${total}...`,\n                        mask: true\n                    });\n                    \n                    uni.downloadFile({\n                        url: this.imageList[index],\n                        success: (res) => {\n                            if (res.statusCode === 200) {\n                                uni.saveImageToPhotosAlbum({\n                                    filePath: res.tempFilePath,\n                                    success: () => {\n                                        savedCount++;\n                                        downloadNext(index + 1);\n                                    },\n                                    fail: (err) => {\n                                        console.error(`保存第${index + 1}张图片失败`, err);\n                                        failedCount++;\n                                        // 继续保存下一张\n                                        downloadNext(index + 1);\n                                    }\n                                });\n                            } else {\n                                failedCount++;\n                                downloadNext(index + 1);\n                            }\n                        },\n                        fail: (err) => {\n                            console.error(`下载第${index + 1}张图片失败`, err);\n                            failedCount++;\n                            downloadNext(index + 1);\n                        }\n                    });\n                };\n                \n                downloadNext(0);\n            });\n        },\n        /**\n         * 下载并保存视频\n         */\n        downloadAndSaveVideo() {\n            return new Promise((resolve, reject) => {\n                uni.showLoading({\n                    title: '下载视频中...',\n                    mask: true\n                });\n                \n                uni.downloadFile({\n                    url: this.resultUrl,\n                    success: (res) => {\n                        uni.hideLoading();\n                        if (res.statusCode === 200) {\n                            // 保存视频到相册\n                            uni.saveVideoToPhotosAlbum({\n                                filePath: res.tempFilePath,\n                                success: () => {\n                                    this.incrementSaveCount();\n                                    resolve();\n                                },\n                                fail: (err) => {\n                                    console.error('保存视频失败', err);\n                                    // 检查是否缺少权限\n                                    if (err.errMsg && err.errMsg.includes('auth deny')) {\n                                        uni.showModal({\n                                            title: '需要相册权限',\n                                            content: '请在设置中开启相册权限',\n                                            showCancel: false\n                                        });\n                                    }\n                                    reject(err);\n                                }\n                            });\n                        } else {\n                            reject(new Error('下载失败'));\n                        }\n                    },\n                    fail: (err) => {\n                        uni.hideLoading();\n                        console.error('下载视频失败', err);\n                        // 如果是网络错误，提供更友好的提示\n                        if (err.errMsg && err.errMsg.includes('fail')) {\n                            uni.showModal({\n                                title: '下载失败',\n                                content: '视频下载失败，可能是网络问题或视频链接已失效',\n                                showCancel: false\n                            });\n                        }\n                        reject(err);\n                    }\n                });\n            });\n        },\n        getSaveCount() {\n            return uni.getStorageSync('saveCount') || 0;\n        },\n        incrementSaveCount() {\n            const count = this.getSaveCount() + 1;\n            uni.setStorageSync('saveCount', count);\n        }\n    }\n};\n</script>\n\n<style scoped>\n.container {\n    min-height: 100vh;\n    background: #f5f5f5;\n    padding: 30rpx;\n}\n\n.result-header {\n    text-align: center;\n    margin-bottom: 40rpx;\n}\n\n.result-title {\n    font-size: 32rpx;\n    color: #333;\n    font-weight: 500;\n}\n\n.result-container {\n    margin-bottom: 40rpx;\n}\n\n.result-image-container {\n    background: #fff;\n    border-radius: 20rpx;\n    padding: 30rpx;\n    min-height: 500rpx;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    position: relative;\n}\n\n.image-swiper {\n    width: 100%;\n    height: 600rpx;\n}\n\n.result-image {\n    max-width: 100%;\n    max-height: 600rpx;\n    border-radius: 10rpx;\n    width: 100%;\n    height: 100%;\n}\n\n.image-indicator {\n    position: absolute;\n    top: 50rpx;\n    right: 50rpx;\n    background: rgba(0, 0, 0, 0.5);\n    color: #fff;\n    padding: 10rpx 20rpx;\n    border-radius: 20rpx;\n    font-size: 24rpx;\n}\n\n.indicator-text {\n    color: #fff;\n}\n\n.result-video-container {\n    background: #000;\n    border-radius: 20rpx;\n    overflow: hidden;\n    margin-bottom: 40rpx;\n}\n\n.result-video {\n    width: 100%;\n    min-height: 500rpx;\n    background: #000;\n}\n\n.action-buttons {\n    margin-bottom: 100rpx;\n}\n\n.save-btn {\n    width: 100%;\n    height: 88rpx;\n    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n    color: #fff;\n    border-radius: 44rpx;\n    font-size: 32rpx;\n    border: none;\n}\n</style>\n\n","import MiniProgramPage from '/Users/gongxuesong/Work/individual/工具/tool-ai-all/tool-ai-uniapp/pages/result/result.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni","showRewardedVideo","showInterstitialAd"],"mappings":"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"}